

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Module: core.magics.execution &mdash; IPython 2.0.0-dev: Work in Progress documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.0-dev: Work in Progress',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="IPython 2.0.0-dev: Work in Progress documentation" href="../../index.html" />
    <link rel="up" title="The IPython API" href="../index.html" />
    <link rel="next" title="Module: core.magics.extension" href="IPython.core.magics.extension.html" />
    <link rel="prev" title="Module: core.magics.display" href="IPython.core.magics.display.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="http://ipython.org/"><img src="../../_static/logo.png" border="0" alt="IPython Documentation"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="IPython.core.magics.extension.html" title="Module: core.magics.extension"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="IPython.core.magics.display.html" title="Module: core.magics.display"
             accesskey="P">previous</a> |</li>
        <li><a href="http://ipython.org">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>
       <li><a href="../../index.html">documentation </a> &raquo;</li>

          <li><a href="../index.html" accesskey="U">The IPython API</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Module: <tt class="docutils literal"><span class="pre">core.magics.execution</span></tt></a><ul>
<li><a class="reference internal" href="#classes">3 Classes</a></li>
<li><a class="reference internal" href="#function">1 Function</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="IPython.core.magics.display.html"
                        title="previous chapter">Module: <tt class="docutils literal docutils literal docutils literal"><span class="pre">core.magics.display</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="IPython.core.magics.extension.html"
                        title="next chapter">Module: <tt class="docutils literal"><span class="pre">core.magics.extension</span></tt></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/api/generated/IPython.core.magics.execution.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This documentation is for a development version of IPython. There may be
significant differences from the latest stable release (1.1.0).</p>
</div>
</div></blockquote>
<div class="section" id="module-IPython.core.magics.execution">
<span id="module-core-magics-execution"></span><h1>Module: <tt class="xref py py-mod docutils literal"><span class="pre">core.magics.execution</span></tt><a class="headerlink" href="#module-IPython.core.magics.execution" title="Permalink to this headline">¶</a></h1>
<p>Implementation of execution-related magic functions.</p>
<div class="section" id="classes">
<h2>3 Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="IPython.core.magics.execution.TimeitResult">
<em class="property">class </em><tt class="descclassname">IPython.core.magics.execution.</tt><tt class="descname">TimeitResult</tt><big>(</big><em>loops</em>, <em>repeat</em>, <em>best</em>, <em>all_runs</em>, <em>compile_time</em>, <em>precision</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.TimeitResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Object returned by the timeit magic with info about the run.</p>
<p>Contain the following attributes :</p>
<p>loops: (int) number of loop done per measurement
repeat: (int) number of time the mesurement has been repeated
best: (float) best execusion time / number
all_runs: (list of float) execusion time of each run (in s)
compile_time: (float) time of statement compilation (s)</p>
<dl class="method">
<dt id="IPython.core.magics.execution.TimeitResult.__init__">
<tt class="descname">__init__</tt><big>(</big><em>loops</em>, <em>repeat</em>, <em>best</em>, <em>all_runs</em>, <em>compile_time</em>, <em>precision</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.TimeitResult.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="IPython.core.magics.execution.TimeitTemplateFiller">
<em class="property">class </em><tt class="descclassname">IPython.core.magics.execution.</tt><tt class="descname">TimeitTemplateFiller</tt><big>(</big><em>ast_setup</em>, <em>ast_stmt</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.TimeitTemplateFiller" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/2/library/ast.html#ast.NodeTransformer" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">ast.NodeTransformer</span></tt></a></p>
<p>Fill in the AST template for timing execution.</p>
<p>This is quite closely tied to the template definition, which is in
<a class="reference internal" href="#IPython.core.magics.execution.ExecutionMagics.timeit" title="IPython.core.magics.execution.ExecutionMagics.timeit"><tt class="xref py py-meth docutils literal"><span class="pre">ExecutionMagics.timeit()</span></tt></a>.</p>
<dl class="method">
<dt id="IPython.core.magics.execution.TimeitTemplateFiller.__init__">
<tt class="descname">__init__</tt><big>(</big><em>ast_setup</em>, <em>ast_stmt</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.TimeitTemplateFiller.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.TimeitTemplateFiller.visit_For">
<tt class="descname">visit_For</tt><big>(</big><em>node</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.TimeitTemplateFiller.visit_For" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill in the statement to be timed</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.TimeitTemplateFiller.visit_FunctionDef">
<tt class="descname">visit_FunctionDef</tt><big>(</big><em>node</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.TimeitTemplateFiller.visit_FunctionDef" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill in the setup statement</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="IPython.core.magics.execution.ExecutionMagics">
<em class="property">class </em><tt class="descclassname">IPython.core.magics.execution.</tt><tt class="descname">ExecutionMagics</tt><big>(</big><em>shell</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="IPython.core.magic.html#IPython.core.magic.Magics" title="IPython.core.magic.Magics"><tt class="xref py py-class docutils literal"><span class="pre">IPython.core.magic.Magics</span></tt></a></p>
<p>Magics related to code execution, debugging, profiling, etc.</p>
<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.__init__">
<tt class="descname">__init__</tt><big>(</big><em>shell</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.capture">
<tt class="descname">capture</tt><big>(</big><em>line</em>, <em>cell</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.capture" title="Permalink to this definition">¶</a></dt>
<dd><p>%capture [&#8211;no-stderr] [&#8211;no-stdout] [&#8211;no-display] [output]</p>
<p>run the cell, capturing stdout, stderr, and IPython&#8217;s rich display() calls.</p>
<dl class="docutils">
<dt>positional arguments:</dt>
<dd><dl class="first last docutils">
<dt>output        The name of the variable in which to store output. This is a</dt>
<dd>utils.io.CapturedIO object with stdout/err attributes for the
text of the captured output. CapturedOutput also has a show()
method for displaying the output, and __call__ as well, so you
can use that to quickly display the output. If unspecified,
captured output is discarded.</dd>
</dl>
</dd>
<dt>optional arguments:</dt>
<dd><table class="first last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--no-stderr</span></kbd></td>
<td>Don&#8217;t capture stderr.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--no-stdout</span></kbd></td>
<td>Don&#8217;t capture stdout.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--no-display</span></kbd></td>
<td>Don&#8217;t capture IPython&#8217;s rich display.</td></tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.debug">
<tt class="descname">debug</tt><big>(</big><em>line=''</em>, <em>cell=None</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>%debug [&#8211;breakpoint <a class="reference external" href="FILE:LINE">FILE:LINE</a>] [statement [statement ...]]</p>
<p>Activate the interactive debugger.</p>
<p>This magic command support two ways of activating debugger.
One is to activate debugger before executing code.  This way, you
can set a break point, to step through the code from the point.
You can use this mode by giving statements to execute and optionally
a breakpoint.</p>
<p>The other one is to activate debugger in post-mortem mode.  You can
activate this mode simply running %debug without any argument.
If an exception has just occurred, this lets you inspect its stack
frames interactively.  Note that this will always work only on the last
traceback that occurred, so you must call this quickly after an
exception that you wish to inspect has fired, because if another one
occurs, it clobbers the previous one.</p>
<p>If you want IPython to automatically do this on every exception, see
the %pdb magic for more details.</p>
<dl class="docutils">
<dt>positional arguments:</dt>
<dd><dl class="first last docutils">
<dt>statement             Code to run in debugger. You can omit this in cell</dt>
<dd>magic mode.</dd>
</dl>
</dd>
<dt>optional arguments:</dt>
<dd><dl class="first last docutils">
<dt>&#8211;breakpoint <a class="reference external" href="FILE:LINE">FILE:LINE</a>, -b <a class="reference external" href="FILE:LINE">FILE:LINE</a></dt>
<dd>Set break point at LINE in FILE.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.macro">
<tt class="descname">macro</tt><big>(</big><em>parameter_s=''</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.macro" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a macro for future re-execution. It accepts ranges of history,
filenames or string objects.</p>
<dl class="docutils">
<dt>Usage:</dt>
<dd>%macro [options] name n1-n2 n3-n4 ... n5 .. n6 ...</dd>
</dl>
<p>Options:</p>
<blockquote>
<div><p>-r: use &#8216;raw&#8217; input.  By default, the &#8216;processed&#8217; history is used,
so that magics are loaded in their transformed version to valid
Python.  If this option is given, the raw input as typed at the
command line is used instead.</p>
<p>-q: quiet macro definition.  By default, a tag line is printed 
to indicate the macro has been created, and then the contents of 
the macro are printed.  If this option is given, then no printout
is produced once the macro is created.</p>
</div></blockquote>
<p>This will define a global variable called <cite>name</cite> which is a string
made of joining the slices and lines you specify (n1,n2,... numbers
above) from your input history into a single string. This variable
acts like an automatic function which re-executes those lines as if
you had typed them. You just type &#8216;name&#8217; at the prompt and the code
executes.</p>
<p>The syntax for indicating input ranges is described in %history.</p>
<p>Note: as a &#8216;hidden&#8217; feature, you can also use traditional python slice
notation, where N:M means numbers N through M-1.</p>
<p>For example, if your history contains (print using %hist -n ):</p>
<div class="highlight-python"><pre>44: x=1
45: y=3
46: z=x+y
47: print x
48: a=5
49: print 'x',x,'y',y</pre>
</div>
<p>you can create a macro with lines 44 through 47 (included) and line 49
called my_macro with:</p>
<div class="highlight-python"><pre>In [55]: %macro my_macro 44-47 49</pre>
</div>
<p>Now, typing <cite>my_macro</cite> (without quotes) will re-execute all this code
in one pass.</p>
<p>You don&#8217;t need to give the line-numbers in order, and any given line
number can appear multiple times. You can assemble macros with any
lines from your input history in any order.</p>
<p>The macro is a simple object which holds its value in an attribute,
but IPython&#8217;s display system checks for macros and executes them as
code instead of printing them when you type their name.</p>
<p>You can view a macro&#8217;s contents by explicitly printing it with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">macro_name</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.pdb">
<tt class="descname">pdb</tt><big>(</big><em>parameter_s=''</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.pdb" title="Permalink to this definition">¶</a></dt>
<dd><p>Control the automatic calling of the pdb interactive debugger.</p>
<p>Call as &#8216;%pdb on&#8217;, &#8216;%pdb 1&#8217;, &#8216;%pdb off&#8217; or &#8216;%pdb 0&#8217;. If called without
argument it works as a toggle.</p>
<p>When an exception is triggered, IPython can optionally call the
interactive pdb debugger after the traceback printout. %pdb toggles
this feature on and off.</p>
<p>The initial state of this feature is set in your configuration
file (the option is <tt class="docutils literal"><span class="pre">InteractiveShell.pdb</span></tt>).</p>
<p>If you want to just activate the debugger AFTER an exception has fired,
without having to type &#8216;%pdb on&#8217; and rerunning your code, you can use
the %debug magic.</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.prun">
<tt class="descname">prun</tt><big>(</big><em>parameter_s=''</em>, <em>cell=None</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.prun" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a statement through the python code profiler.</p>
<dl class="docutils">
<dt>Usage, in line mode:</dt>
<dd>%prun [options] statement</dd>
<dt>Usage, in cell mode:</dt>
<dd>%%prun [options] [statement]
code...
code...</dd>
</dl>
<p>In cell mode, the additional code lines are appended to the (possibly
empty) statement in the first line.  Cell mode allows you to easily
profile multiline blocks without having to put them in a separate
function.</p>
<p>The given statement (which doesn&#8217;t require quote marks) is run via the
python profiler in a manner similar to the profile.run() function.
Namespaces are internally managed to work correctly; profile.run
cannot be used in IPython because it makes certain assumptions about
namespaces which do not hold under IPython.</p>
<p>Options:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-l <var>&lt;limit&gt;</var></span></kbd></td>
<td><p class="first">you can place restrictions on what or how much of the
profile gets printed. The limit value can be:</p>
<blockquote>
<div><ul class="simple">
<li>A string: only information for function names containing this string
is printed.</li>
<li>An integer: only these many lines are printed.</li>
<li>A float (between 0 and 1): this fraction of the report is printed
(for example, use a limit of 0.4 to see the topmost 40% only).</li>
</ul>
</div></blockquote>
<p class="last">You can combine several limits with repeated use of the option. For
example, <tt class="docutils literal"><span class="pre">-l</span> <span class="pre">__init__</span> <span class="pre">-l</span> <span class="pre">5</span></tt> will print only the topmost 5 lines of
information about class constructors.</p>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-r</span></kbd></td>
<td>return the pstats.Stats object generated by the profiling. This
object has all the information about the profile in it, and you can
later use it for further analysis or in other functions.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-s <var>&lt;key&gt;</var></span></kbd></td>
<td><p class="first">sort profile by given key. You can provide more than one key
by using the option several times: &#8216;-s key1 -s key2 -s key3...&#8217;. The
default sorting key is &#8216;time&#8217;.</p>
<p>The following is copied verbatim from the profile documentation
referenced below:</p>
<p>When more than one key is provided, additional keys are used as
secondary criteria when the there is equality in all keys selected
before them.</p>
<p>Abbreviations can be used for any key names, as long as the
abbreviation is unambiguous.  The following are the keys currently
defined:</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Valid Arg</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#8220;calls&#8221;</td>
<td>call count</td>
</tr>
<tr class="row-odd"><td>&#8220;cumulative&#8221;</td>
<td>cumulative time</td>
</tr>
<tr class="row-even"><td>&#8220;file&#8221;</td>
<td>file name</td>
</tr>
<tr class="row-odd"><td>&#8220;module&#8221;</td>
<td>file name</td>
</tr>
<tr class="row-even"><td>&#8220;pcalls&#8221;</td>
<td>primitive call count</td>
</tr>
<tr class="row-odd"><td>&#8220;line&#8221;</td>
<td>line number</td>
</tr>
<tr class="row-even"><td>&#8220;name&#8221;</td>
<td>function name</td>
</tr>
<tr class="row-odd"><td>&#8220;nfl&#8221;</td>
<td>name/file/line</td>
</tr>
<tr class="row-even"><td>&#8220;stdname&#8221;</td>
<td>standard name</td>
</tr>
<tr class="row-odd"><td>&#8220;time&#8221;</td>
<td>internal time</td>
</tr>
</tbody>
</table>
<p class="last">Note that all sorts on statistics are in descending order (placing
most time consuming items first), where as name, file, and line number
searches are in ascending order (i.e., alphabetical). The subtle
distinction between &#8220;nfl&#8221; and &#8220;stdname&#8221; is that the standard name is a
sort of the name as printed, which means that the embedded line
numbers get compared in an odd way.  For example, lines 3, 20, and 40
would (if the file names were the same) appear in the string order
&#8220;20&#8221; &#8220;3&#8221; and &#8220;40&#8221;.  In contrast, &#8220;nfl&#8221; does a numeric compare of the
line numbers.  In fact, sort_stats(&#8220;nfl&#8221;) is the same as
sort_stats(&#8220;name&#8221;, &#8220;file&#8221;, &#8220;line&#8221;).</p>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-T <var>&lt;filename&gt;</var></span></kbd></td>
<td>save profile results as shown on screen to a text
file. The profile is still shown on screen.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-D <var>&lt;filename&gt;</var></span></kbd></td>
<td>save (via dump_stats) profile statistics to given
filename. This data is in a format understood by the pstats module, and
is generated by a call to the dump_stats() method of profile
objects. The profile is still shown on screen.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-q</span></kbd></td>
<td>suppress output to the pager.  Best used with -T and/or -D above.</td></tr>
</tbody>
</table>
<p>If you want to run complete programs under the profiler&#8217;s control, use
<tt class="docutils literal"><span class="pre">%run</span> <span class="pre">-p</span> <span class="pre">[prof_opts]</span> <span class="pre">filename.py</span> <span class="pre">[args</span> <span class="pre">to</span> <span class="pre">program]</span></tt> where prof_opts
contains profiler specific options as described here.</p>
<p>You can read the complete documentation for the profile module with:</p>
<div class="highlight-python"><pre>In [1]: import profile; profile.help()</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.run">
<tt class="descname">run</tt><big>(</big><em>parameter_s=''</em>, <em>runner=None</em>, <em>file_finder=&lt;function get_py_filename at 0x33e1e60&gt;</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the named file inside IPython as a program.</p>
<p>Usage:</p>
<div class="highlight-python"><pre>%run [-n -i -e -G]
     [( -t [-N&lt;N&gt;] | -d [-b&lt;N&gt;] | -p [profile options] )]
     ( -m mod | file ) [args]</pre>
</div>
<p>Parameters after the filename are passed as command-line arguments to
the program (put in sys.argv). Then, control returns to IPython&#8217;s
prompt.</p>
<p>This is similar to running at a system prompt <tt class="docutils literal"><span class="pre">python</span> <span class="pre">file</span> <span class="pre">args</span></tt>,
but with the advantage of giving you IPython&#8217;s tracebacks, and of
loading all variables into your interactive namespace for further use
(unless -p is used, see below).</p>
<p>The file is executed in a namespace initially consisting only of
<tt class="docutils literal"><span class="pre">__name__=='__main__'</span></tt> and sys.argv constructed as indicated. It thus
sees its environment as if it were being run as a stand-alone program
(except for sharing global objects such as previously imported
modules). But after execution, the IPython interactive namespace gets
updated with all variables defined in the program (except for __name__
and sys.argv). This allows for very convenient loading of code for
interactive work, while giving each program a &#8216;clean sheet&#8217; to run in.</p>
<p>Arguments are expanded using shell-like glob match.  Patterns
&#8216;*&#8217;, &#8216;?&#8217;, &#8216;[seq]&#8217; and &#8216;[!seq]&#8217; can be used.  Additionally,
tilde &#8216;~&#8217; will be expanded into user&#8217;s home directory.  Unlike
real shells, quotation does not suppress expansions.  Use
<em>two</em> back slashes (e.g. <tt class="docutils literal"><span class="pre">\\*</span></tt>) to suppress expansions.
To completely disable these expansions, you can use -G flag.</p>
<p>Options:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-n</span></kbd></td>
<td>__name__ is NOT set to &#8216;__main__&#8217;, but to the running file&#8217;s name
without extension (as python does under import).  This allows running
scripts and reloading the definitions in them without calling code
protected by an <tt class="docutils literal"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">&quot;__main__&quot;</span></tt> clause.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-i</span></kbd></td>
<td>run the file in IPython&#8217;s namespace instead of an empty one. This
is useful if you are experimenting with code written in a text editor
which depends on variables defined interactively.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-e</span></kbd></td>
<td>ignore sys.exit() calls or SystemExit exceptions in the script
being run.  This is particularly useful if IPython is being used to
run unittests, which always exit with a sys.exit() call.  In such
cases you are interested in the output of the test results, not in
seeing a traceback of the unittest module.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-t</span></kbd></td>
<td>print timing information at the end of the run.  IPython will give
you an estimated CPU time consumption for your script, which under
Unix uses the resource module to avoid the wraparound problems of
time.clock().  Under Unix, an estimate of time spent on system tasks
is also given (for Windows platforms this is reported as 0.0).</td></tr>
</tbody>
</table>
<p>If -t is given, an additional <tt class="docutils literal"><span class="pre">-N&lt;N&gt;</span></tt> option can be given, where &lt;N&gt;
must be an integer indicating how many times you want the script to
run.  The final timing report will include total and per run results.</p>
<p>For example (testing the script uniq_stable.py):</p>
<div class="highlight-python"><pre>In [1]: run -t uniq_stable

IPython CPU timings (estimated):
  User  :    0.19597 s.
  System:        0.0 s.

In [2]: run -t -N5 uniq_stable

IPython CPU timings (estimated):
Total runs performed: 5
  Times :      Total       Per run
  User  :   0.910862 s,  0.1821724 s.
  System:        0.0 s,        0.0 s.</pre>
</div>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-d</span></kbd></td>
<td><p class="first">run your program under the control of pdb, the Python debugger.
This allows you to execute your program step by step, watch variables,
etc.  Internally, what IPython does is similar to calling:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pdb</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s">&#39;execfile(&quot;YOURFILENAME&quot;)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>with a breakpoint set on line 1 of your file.  You can change the line
number for this automatic breakpoint to be &lt;N&gt; by using the -bN option
(where N must be an integer). For example:</p>
<div class="highlight-python"><pre>%run -d -b40 myscript</pre>
</div>
<p>will set the first breakpoint at line 40 in myscript.py.  Note that
the first breakpoint must be set on a line which actually does
something (not a comment or docstring) for it to stop execution.</p>
<p>Or you can specify a breakpoint in a different file:</p>
<div class="highlight-python"><pre>%run -d -b myotherfile.py:20 myscript</pre>
</div>
<p>When the pdb debugger starts, you will see a (Pdb) prompt.  You must
first enter &#8216;c&#8217; (without quotes) to start execution up to the first
breakpoint.</p>
<p class="last">Entering &#8216;help&#8217; gives information about the use of the debugger.  You
can easily see pdb&#8217;s full documentation with &#8220;import pdb;pdb.help()&#8221;
at a prompt.</p>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-p</span></kbd></td>
<td><p class="first">run program under the control of the Python profiler module (which
prints a detailed report of execution times, function calls, etc).</p>
<p>You can pass other options after -p which affect the behavior of the
profiler itself. See the docs for %prun for details.</p>
<p>In this mode, the program&#8217;s variables do NOT propagate back to the
IPython interactive namespace (because they remain in the namespace
where the profiler executes them).</p>
<p class="last">Internally this triggers a call to %prun, see its documentation for
details on the options available specifically for profiling.</p>
</td></tr>
</tbody>
</table>
<p>There is one special usage for which the text above doesn&#8217;t apply:
if the filename ends with .ipy, the file is run as ipython script,
just as if the commands were written on IPython prompt.</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-m</span></kbd></td>
<td><p class="first">specify module name to load instead of script path. Similar to
the -m option for the python interpreter. Use this option last if you
want to combine with other %run options. Unlike the python interpreter
only source modules are allowed no .pyc or .pyo files.
For example:</p>
<div class="highlight-python"><pre>%run -m example</pre>
</div>
<p class="last">will run the example module.</p>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-G</span></kbd></td>
<td>disable shell-like glob expansion of arguments.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.tb">
<tt class="descname">tb</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.tb" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the last traceback with the currently active exception mode.</p>
<p>See %xmode for changing exception reporting modes.</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.time">
<tt class="descname">time</tt><big>(</big><em>line=''</em>, <em>cell=None</em>, <em>local_ns=None</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Time execution of a Python statement or expression.</p>
<p>The CPU and wall clock times are printed, and the value of the
expression (if any) is returned.  Note that under Win32, system time
is always reported as 0, since it can not be measured.</p>
<p>This function can be used both as a line and cell magic:</p>
<ul class="simple">
<li>In line mode you can time a single-line statement (though multiple
ones can be chained with using semicolons).</li>
<li>In cell mode, you can time the cell body (a directly 
following statement raises an error).</li>
</ul>
<p>This function provides very basic timing functionality.  Use the timeit 
magic for more controll over the measurement.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><pre>In [1]: %time 2**128
CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s
Wall time: 0.00
Out[1]: 340282366920938463463374607431768211456L

In [2]: n = 1000000

In [3]: %time sum(range(n))
CPU times: user 1.20 s, sys: 0.05 s, total: 1.25 s
Wall time: 1.37
Out[3]: 499999500000L

In [4]: %time print 'hello world'
hello world
CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s
Wall time: 0.00

Note that the time needed by Python to compile the given expression
will be reported if it is more than 0.1s.  In this example, the
actual exponentiation is done by Python at compilation time, so while
the expression can take a noticeable amount of time to compute, that
time is purely due to the compilation:

In [5]: %time 3**9999;
CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s
Wall time: 0.00 s

In [6]: %time 3**999999;
CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s
Wall time: 0.00 s
Compiler : 0.78 s</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.execution.ExecutionMagics.timeit">
<tt class="descname">timeit</tt><big>(</big><em>line=''</em>, <em>cell=None</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.ExecutionMagics.timeit" title="Permalink to this definition">¶</a></dt>
<dd><p>Time execution of a Python statement or expression</p>
<dl class="docutils">
<dt>Usage, in line mode:</dt>
<dd>%timeit [-n&lt;N&gt; -r&lt;R&gt; [-t|-c] -q -p&lt;P&gt; -o] statement</dd>
<dt>or in cell mode:</dt>
<dd>%%timeit [-n&lt;N&gt; -r&lt;R&gt; [-t|-c] -q -p&lt;P&gt; -o] setup_code
code
code...</dd>
</dl>
<p>Time execution of a Python statement or expression using the timeit
module.  This function can be used both as a line and cell magic:</p>
<ul class="simple">
<li>In line mode you can time a single-line statement (though multiple
ones can be chained with using semicolons).</li>
<li>In cell mode, the statement in the first line is used as setup code
(executed but not timed) and the body of the cell is timed.  The cell
body has access to any variables created in the setup code.</li>
</ul>
<p>Options:
-n&lt;N&gt;: execute the given statement &lt;N&gt; times in a loop. If this value
is not given, a fitting value is chosen.</p>
<p>-r&lt;R&gt;: repeat the loop iteration &lt;R&gt; times and take the best result.
Default: 3</p>
<p>-t: use time.time to measure the time, which is the default on Unix.
This function measures wall time.</p>
<p>-c: use time.clock to measure the time, which is the default on
Windows and measures wall time. On Unix, resource.getrusage is used
instead and returns the CPU user time.</p>
<p>-p&lt;P&gt;: use a precision of &lt;P&gt; digits to display the timing result.
Default: 3</p>
<p>-q: Quiet, do not print result.</p>
<dl class="docutils">
<dt>-o: return a TimeitResult that can be stored in a variable to inspect</dt>
<dd>the result in more details.</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python"><pre>In [1]: %timeit pass
10000000 loops, best of 3: 53.3 ns per loop

In [2]: u = None

In [3]: %timeit u is None
10000000 loops, best of 3: 184 ns per loop

In [4]: %timeit -r 4 u == None
1000000 loops, best of 4: 242 ns per loop

In [5]: import time

In [6]: %timeit -n1 time.sleep(2)
1 loops, best of 3: 2 s per loop</pre>
</div>
<p>The times reported by %timeit will be slightly higher than those
reported by the timeit.py script when variables are accessed. This is
due to the fact that %timeit executes the statement in the namespace
of the shell, compared with timeit.py, which uses a single setup
statement to import function or create variables. Generally, the bias
does not matter as long as results from timeit.py are not mixed with
those from %timeit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="function">
<h2>1 Function<a class="headerlink" href="#function" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="IPython.core.magics.execution.parse_breakpoint">
<tt class="descclassname">IPython.core.magics.execution.</tt><tt class="descname">parse_breakpoint</tt><big>(</big><em>text</em>, <em>current_file</em><big>)</big><a class="headerlink" href="#IPython.core.magics.execution.parse_breakpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns (file, line) for <a class="reference external" href="file:line">file:line</a> and (current_file, line) for line</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="IPython.core.magics.extension.html" title="Module: core.magics.extension"
             >next</a> |</li>
        <li class="right" >
          <a href="IPython.core.magics.display.html" title="Module: core.magics.display"
             >previous</a> |</li>
        <li><a href="http://ipython.org">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>
       <li><a href="../../index.html">documentation </a> &raquo;</li>

          <li><a href="../index.html" >The IPython API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008, The IPython Development Team.
      Last updated on Oct 29, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>
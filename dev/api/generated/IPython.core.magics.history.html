

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>core.magics.history &mdash; IPython 0.13.dev documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.13.dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="IPython 0.13.dev documentation" href="../../index.html" />
    <link rel="up" title="The IPython API" href="../index.html" />
    <link rel="next" title="core.magics.logging" href="IPython.core.magics.logging.html" />
    <link rel="prev" title="core.magics.extension" href="IPython.core.magics.extension.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../index.html"><img src="../../_static/logo.png" border="0" alt="IPython Documentation"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="IPython.core.magics.logging.html" title="core.magics.logging"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="IPython.core.magics.extension.html" title="core.magics.extension"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>
       <li><a href="../../index.html">documentation </a> &raquo;</li>

          <li><a href="../index.html" accesskey="U">The IPython API</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">core.magics.history</a><ul>
<li><a class="reference internal" href="#module-core-magics-history">Module: <tt class="docutils literal"><span class="pre">core.magics.history</span></tt></a></li>
<li><a class="reference internal" href="#historymagics"><tt class="docutils literal"><span class="pre">HistoryMagics</span></tt></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="IPython.core.magics.extension.html"
                        title="previous chapter">core.magics.extension</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="IPython.core.magics.logging.html"
                        title="next chapter">core.magics.logging</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/api/generated/IPython.core.magics.history.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="core-magics-history">
<h1>core.magics.history<a class="headerlink" href="#core-magics-history" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-core-magics-history">
<h2>Module: <tt class="xref py py-mod docutils literal"><span class="pre">core.magics.history</span></tt><a class="headerlink" href="#module-core-magics-history" title="Permalink to this headline">¶</a></h2>
<p>Inheritance diagram for <tt class="docutils literal"><span class="pre">IPython.core.magics.history</span></tt>:</p>
<img src="../../_images/inheritancef72802d67d.png" usemap="#inheritancef72802d67d" class="inheritance"/><map id="inheritancef72802d67d" name="inheritancef72802d67d">
</map>
<span class="target" id="module-IPython.core.magics.history"></span><p>Implementation of magic functions related to History.</p>
</div>
<div class="section" id="historymagics">
<h2><a class="reference internal" href="#IPython.core.magics.history.HistoryMagics" title="IPython.core.magics.history.HistoryMagics"><tt class="xref py py-class docutils literal"><span class="pre">HistoryMagics</span></tt></a><a class="headerlink" href="#historymagics" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="IPython.core.magics.history.HistoryMagics">
<em class="property">class </em><tt class="descclassname">IPython.core.magics.history.</tt><tt class="descname">HistoryMagics</tt><big>(</big><em>shell</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="IPython.core.magic.html#IPython.core.magic.Magics" title="IPython.core.magic.Magics"><tt class="xref py py-class docutils literal"><span class="pre">IPython.core.magic.Magics</span></tt></a></p>
<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.__init__">
<tt class="descname">__init__</tt><big>(</big><em>shell</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.arg_err">
<tt class="descname">arg_err</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.arg_err" title="Permalink to this definition">¶</a></dt>
<dd><p>Print docstring if incorrect arguments were passed</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.default_option">
<tt class="descname">default_option</tt><big>(</big><em>fn</em>, <em>optstr</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.default_option" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an entry in the options_table for fn, with value optstr</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.format_latex">
<tt class="descname">format_latex</tt><big>(</big><em>strng</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.format_latex" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a string for latex inclusion.</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.hist">
<tt class="descname">hist</tt><big>(</big><em>arg</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Print input history (_i&lt;n&gt; variables), with most recent last.</p>
<p>%history [-o -p -t -n] [-f filename] [range | -g pattern | -l number]</p>
<p>By default, input history is printed without line numbers so it can be
directly pasted into an editor. Use -n to show them.</p>
<p>By default, all input history from the current session is displayed.
Ranges of history can be indicated using the syntax:
4      : Line 4, current session
4-6    : Lines 4-6, current session
243/1-5: Lines 1-5, session 243
~2/7   : Line 7, session 2 before current
~8/1-~6/5 : From the first line of 8 sessions ago, to the fifth line</p>
<blockquote>
<div>of 6 sessions ago.</div></blockquote>
<p>Multiple ranges can be entered, separated by spaces</p>
<p>The same syntax is used by %macro, %save, %edit, %rerun</p>
<p>Options:</p>
<blockquote>
<div><p>-n: print line numbers for each input.
This feature is only available if numbered prompts are in use.</p>
<p>-o: also print outputs for each input.</p>
<dl class="docutils">
<dt>-p: print classic &#8216;&gt;&gt;&gt;&#8217; python prompts before each input.  This is</dt>
<dd>useful for making documentation, and in conjunction with -o, for
producing doctest-ready output.</dd>
<dt>-r: (default) print the &#8216;raw&#8217; history, i.e. the actual commands you</dt>
<dd>typed.</dd>
</dl>
<p>-t: print the &#8216;translated&#8217; history, as IPython understands it.
IPython filters your input and converts it all into valid Python
source before executing it (things like magics or aliases are turned
into function calls, for example). With this option, you&#8217;ll see the
native history instead of the user-entered version: &#8216;%cd /&#8217; will be
seen as &#8216;get_ipython().magic(&#8220;%cd /&#8221;)&#8217; instead of &#8216;%cd /&#8217;.</p>
<p>-g: treat the arg as a pattern to grep for in (full) history.
This includes the saved history (almost all commands ever written).
Use &#8216;%hist -g&#8217; to show full saved history (may be very long).</p>
<p>-l: get the last n lines from all sessions. Specify n as a single
arg, or the default is the last 10 lines.</p>
<dl class="docutils">
<dt>-f FILENAME: instead of printing the output to the screen, redirect</dt>
<dd>it to the given file.  The file is always overwritten, though <em>when
it can</em>, IPython asks for confirmation first. In particular, running
the command &#8216;history -f FILENAME&#8217; from the IPython Notebook
interface will replace FILENAME even if it already exists <em>without</em>
confirmation.</dd>
</dl>
</div></blockquote>
<p class="rubric">Examples</p>
<div class="highlight-python"><pre>In [6]: %hist -n 4-6
4:a = 12
5:print a**2
6:%hist -n 4-6</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.history">
<tt class="descname">history</tt><big>(</big><em>parameter_s=''</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.history" title="Permalink to this definition">¶</a></dt>
<dd><p>Print input history (_i&lt;n&gt; variables), with most recent last.</p>
<p>%history [-o -p -t -n] [-f filename] [range | -g pattern | -l number]</p>
<p>By default, input history is printed without line numbers so it can be
directly pasted into an editor. Use -n to show them.</p>
<p>By default, all input history from the current session is displayed.
Ranges of history can be indicated using the syntax:
4      : Line 4, current session
4-6    : Lines 4-6, current session
243/1-5: Lines 1-5, session 243
~2/7   : Line 7, session 2 before current
~8/1-~6/5 : From the first line of 8 sessions ago, to the fifth line</p>
<blockquote>
<div>of 6 sessions ago.</div></blockquote>
<p>Multiple ranges can be entered, separated by spaces</p>
<p>The same syntax is used by %macro, %save, %edit, %rerun</p>
<p>Options:</p>
<blockquote>
<div><p>-n: print line numbers for each input.
This feature is only available if numbered prompts are in use.</p>
<p>-o: also print outputs for each input.</p>
<dl class="docutils">
<dt>-p: print classic &#8216;&gt;&gt;&gt;&#8217; python prompts before each input.  This is</dt>
<dd>useful for making documentation, and in conjunction with -o, for
producing doctest-ready output.</dd>
<dt>-r: (default) print the &#8216;raw&#8217; history, i.e. the actual commands you</dt>
<dd>typed.</dd>
</dl>
<p>-t: print the &#8216;translated&#8217; history, as IPython understands it.
IPython filters your input and converts it all into valid Python
source before executing it (things like magics or aliases are turned
into function calls, for example). With this option, you&#8217;ll see the
native history instead of the user-entered version: &#8216;%cd /&#8217; will be
seen as &#8216;get_ipython().magic(&#8220;%cd /&#8221;)&#8217; instead of &#8216;%cd /&#8217;.</p>
<p>-g: treat the arg as a pattern to grep for in (full) history.
This includes the saved history (almost all commands ever written).
Use &#8216;%hist -g&#8217; to show full saved history (may be very long).</p>
<p>-l: get the last n lines from all sessions. Specify n as a single
arg, or the default is the last 10 lines.</p>
<dl class="docutils">
<dt>-f FILENAME: instead of printing the output to the screen, redirect</dt>
<dd>it to the given file.  The file is always overwritten, though <em>when
it can</em>, IPython asks for confirmation first. In particular, running
the command &#8216;history -f FILENAME&#8217; from the IPython Notebook
interface will replace FILENAME even if it already exists <em>without</em>
confirmation.</dd>
</dl>
</div></blockquote>
<p class="rubric">Examples</p>
<div class="highlight-python"><pre>In [6]: %hist -n 4-6
4:a = 12
5:print a**2
6:%hist -n 4-6</pre>
</div>
</dd></dl>

<dl class="attribute">
<dt id="IPython.core.magics.history.HistoryMagics.magics">
<tt class="descname">magics</tt><em class="property"> = {'cell': {}, 'line': {'hist': &lt;bound method HistoryMagics.hist of &lt;IPython.core.magics.history.HistoryMagics object at 0x38aa250&gt;&gt;, 'recall': &lt;bound method HistoryMagics.recall of &lt;IPython.core.magics.history.HistoryMagics object at 0x38aa250&gt;&gt;, 'rep': &lt;bound method HistoryMagics.rep of &lt;IPython.core.magics.history.HistoryMagics object at 0x38aa250&gt;&gt;, 'rerun': &lt;bound method HistoryMagics.rerun of &lt;IPython.core.magics.history.HistoryMagics object at 0x38aa250&gt;&gt;, 'history': &lt;bound method HistoryMagics.history of &lt;IPython.core.magics.history.HistoryMagics object at 0x38aa250&gt;&gt;}}</em><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.magics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="IPython.core.magics.history.HistoryMagics.options_table">
<tt class="descname">options_table</tt><em class="property"> = None</em><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.options_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.parse_options">
<tt class="descname">parse_options</tt><big>(</big><em>arg_str</em>, <em>opt_str</em>, <em>*long_opts</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.parse_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse options passed to an argument string.</p>
<p>The interface is similar to that of getopt(), but it returns back a
Struct with the options as keys and the stripped argument string still
as a string.</p>
<p>arg_str is quoted as a true sys.argv vector by using shlex.split.
This allows us to easily expand variables, glob files, quote
arguments, etc.</p>
<dl class="docutils">
<dt>Options:</dt>
<dd><p class="first">-mode: default &#8216;string&#8217;. If given as &#8216;list&#8217;, the argument string is
returned as a list (split on whitespace) instead of a string.</p>
<p>-list_all: put all option values in lists. Normally only options
appearing more than once are put in a list.</p>
<p class="last">-posix (True): whether to split the input line in POSIX mode or not,
as per the conventions outlined in the shlex module from the
standard library.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.recall">
<tt class="descname">recall</tt><big>(</big><em>arg</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.recall" title="Permalink to this definition">¶</a></dt>
<dd><p>Repeat a command, or get command to input line for editing.</p>
<p>%recall and %rep are equivalent.</p>
<ul class="simple">
<li>%recall (no arguments):</li>
</ul>
<p>Place a string version of last computation result (stored in the
special &#8216;_&#8217; variable) to the next input prompt. Allows you to create
elaborate command lines without using copy-paste:</p>
<div class="highlight-python"><pre> In[1]: l = ["hei", "vaan"]
 In[2]: "".join(l)
Out[2]: heivaan
 In[3]: %rep
 In[4]: heivaan_ &lt;== cursor blinking</pre>
</div>
<p>%recall 45</p>
<p>Place history line 45 on the next input prompt. Use %hist to find
out the number.</p>
<p>%recall 1-4</p>
<p>Combine the specified lines into one cell, and place it on the next
input prompt. See %history for the slice syntax.</p>
<p>%recall foo+bar</p>
<p>If foo+bar can be evaluated in the user namespace, the result is
placed at the next input prompt. Otherwise, the history is searched
for lines which contain that substring, and the most recent one is
placed at the next input prompt.</p>
</dd></dl>

<dl class="attribute">
<dt id="IPython.core.magics.history.HistoryMagics.registered">
<tt class="descname">registered</tt><em class="property"> = True</em><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.registered" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.rep">
<tt class="descname">rep</tt><big>(</big><em>arg</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.rep" title="Permalink to this definition">¶</a></dt>
<dd><p>Repeat a command, or get command to input line for editing.</p>
<p>%recall and %rep are equivalent.</p>
<ul class="simple">
<li>%recall (no arguments):</li>
</ul>
<p>Place a string version of last computation result (stored in the
special &#8216;_&#8217; variable) to the next input prompt. Allows you to create
elaborate command lines without using copy-paste:</p>
<div class="highlight-python"><pre> In[1]: l = ["hei", "vaan"]
 In[2]: "".join(l)
Out[2]: heivaan
 In[3]: %rep
 In[4]: heivaan_ &lt;== cursor blinking</pre>
</div>
<p>%recall 45</p>
<p>Place history line 45 on the next input prompt. Use %hist to find
out the number.</p>
<p>%recall 1-4</p>
<p>Combine the specified lines into one cell, and place it on the next
input prompt. See %history for the slice syntax.</p>
<p>%recall foo+bar</p>
<p>If foo+bar can be evaluated in the user namespace, the result is
placed at the next input prompt. Otherwise, the history is searched
for lines which contain that substring, and the most recent one is
placed at the next input prompt.</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.magics.history.HistoryMagics.rerun">
<tt class="descname">rerun</tt><big>(</big><em>parameter_s=''</em><big>)</big><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.rerun" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-run previous input</p>
<p>By default, you can specify ranges of input history to be repeated
(as with %history). With no arguments, it will repeat the last line.</p>
<p>Options:</p>
<blockquote>
<div><p>-l &lt;n&gt; : Repeat the last n lines of input, not including the
current command.</p>
<p>-g foo : Repeat the most recent line which contains foo</p>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="IPython.core.magics.history.HistoryMagics.shell">
<tt class="descname">shell</tt><em class="property"> = None</em><a class="headerlink" href="#IPython.core.magics.history.HistoryMagics.shell" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="IPython.core.magics.logging.html" title="core.magics.logging"
             >next</a> |</li>
        <li class="right" >
          <a href="IPython.core.magics.extension.html" title="core.magics.extension"
             >previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>
       <li><a href="../../index.html">documentation </a> &raquo;</li>

          <li><a href="../index.html" >The IPython API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008, The IPython Development Team.
      Last updated on Jun 05, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>